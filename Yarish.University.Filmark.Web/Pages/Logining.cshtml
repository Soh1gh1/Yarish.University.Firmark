@page
@model Yarish.University.Filmark.Web.Pages.LoginingModel
@{
	<!DOCTYPE html>
<html>
<head>
	<title>Login</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Підключення бібліотеки Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<!-- Підключення стилів для форми логінування -->
	<style>
		.login-form {
			max-width: 500px;
			margin: 50px auto;
			padding: 20px;
			border: 1px solid #ddd;
			border-radius: 5px;
			background-color: #f5f5f5;
		}

		.login-form h2 {
			text-align: center;
			margin-bottom: 30px;
		}

		.login-form input[type="text"], .login-form input[type="password"] {
			width: 100%;
			padding: 12px 20px;
			margin: 8px 0;
			display: inline-block;
			border: 1px solid #ccc;
			border-radius: 4px;
			box-sizing: border-box;
		}

		.login-form button {
			background-color: #4CAF50;
			color: white;
			padding: 14px 20px;
			margin: 8px 0;
			border: none;
			border-radius: 4px;
			cursor: pointer;
			width: 100%;
			font-size: 16px;
		}

		.login-form button:hover {
			background-color: #45a049;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-md-6 offset-md-3">
				<form class="login-form">
					<h2>Login</h2>
					<div class="form-group">
						<label for="username">Username:</label>
						<input type="text" class="form-control" id="username" placeholder="Enter username">
					</div>
					<div class="form-group">
						<label for="password">Password:</label>
						<input type="password" class="form-control" id="password" placeholder="Enter password">
					</div>
					<button type="submit" class="btn btn-primary">Submit</button>
				</form>
			</div>
		</div>
	</div>

	<!-- Підключення скриптів для роботи з формою логінування -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
	<script>
		$(document).ready(function () {
			$('.login-form').submit(function (event) {
				event.preventDefault();
				var username = $('#username').val();
				var password = $('#password').val();
				// Виконати запит на сервер для перевірки логіну та паролю
				// ...
				// Якщо логін та пароль вірні, перенаправильні
					//Використовуємо AJAX запит, щоб відправити дані на сервер
					$.ajax({
						type: "POST", //Метод відправки даних
						url: "/login", //URL для запиту на сервер
						data: { username: username, password: password }, //Дані, які ми відправляємо на сервер
						success: function (response) { //Якщо запит виконався успішно
							if (response.status === 'success') { //Якщо логін і пароль вірні
								Swal.fire({ //Показати спливаюче повідомлення про успішний вхід
									title: 'Успіх!',
									text: 'Ви успішно увійшли в систему',
									icon: 'success',
									confirmButtonText: 'ОК'
								}).then((result) => { //Перенаправити на головну сторінку
									if (result.isConfirmed) {
										window.location.href = "/home";
									}
								});
							} else { //Якщо логін або пароль невірні
								Swal.fire({ //Показати спливаюче повідомлення про помилку
									title: 'Помилка!',
									text: 'Невірний логін або пароль',
									icon: 'error',
									confirmButtonText: 'ОК'
								});
							}
						},
						error: function () { //Якщо запит виконався з помилкою
							Swal.fire({ //Показати спливаюче повідомлення про помилку
								title: 'Помилка!',
								text: 'Сталася помилка при вході в систему',
								icon: 'error',
								confirmButtonText: 'ОК'
							});
						}
					});
				});
			});
		</script>

	</body>
	</html>
}
